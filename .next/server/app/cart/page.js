(()=>{var e={};e.id=565,e.ids=[565],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},64936:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>d,routeModule:()=>u,tree:()=>c}),s(24133),s(41292),s(35866);var r=s(23191),a=s(88716),l=s(37922),n=s.n(l),i=s(95231),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);s.d(t,o);let c=["",{children:["cart",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,24133)),"C:\\assaf\\FullStack\\projects\\orProductions\\app\\cart\\page.js"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,41292)),"C:\\assaf\\FullStack\\projects\\orProductions\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\assaf\\FullStack\\projects\\orProductions\\app\\cart\\page.js"],x="/cart/page",m={require:s,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/cart/page",pathname:"/cart",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},28037:(e,t,s)=>{Promise.resolve().then(s.bind(s,35750))},35750:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var r=s(10326),a=s(17577),l=s(35047),n=s(11321),i=s(61973),o=s(33004);function c(){let e=(0,l.useRouter)(),[t,s]=(0,a.useState)([]),[c,d]=(0,a.useState)(0),[x,m]=(0,a.useState)(""),[u,h]=(0,a.useState)(""),[p,g]=(0,a.useState)(""),[b,j]=(0,a.useState)(""),[v,f]=(0,a.useState)(""),[y,w]=(0,a.useState)(""),[N,k]=(0,a.useState)(""),[C,_]=(0,a.useState)(!1),[S,q]=(0,a.useState)(!1),[I,P]=(0,a.useState)(!1),E=e=>{let t=e.reduce((e,t)=>e+t.price*t.quantity,0);return d(t),t},L=(e,r)=>{if(r<1)return;let a=t.map(t=>(t.cartItemId||t.id)===e?{...t,quantity:r}:t);s(a),E(a),localStorage.setItem("cart",JSON.stringify(a)),window.dispatchEvent(new Event("cartUpdated"))},M=e=>{let r=t.filter(t=>(t.cartItemId||t.id)!==e);s(r),E(r),localStorage.setItem("cart",JSON.stringify(r)),window.dispatchEvent(new Event("cartUpdated"))},A=()=>{s([]),d(0),localStorage.removeItem("cart"),window.dispatchEvent(new Event("cartUpdated"))},B=async s=>{s.preventDefault(),q(!0),(0,i.I)("ContactFormSubmit",{form_type:"quote_request",cart_items_count:t.length,total_value:c,currency:"ILS"});try{let s=await fetch("/api/quote-request",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({customerName:x,customerTel:u,customerEmail:p,customerNotes:b,eventDate:v,eventType:y,guestsCount:N,cartItems:t,totalPrice:c})}),r=await s.json();if(!s.ok)throw Error(r.error||"שגיאה בשליחת הבקשה");P(!0),setTimeout(()=>{P(!1),_(!1),A(),e.push("/")},3e3)}catch(e){console.error("Error submitting form:",e),alert("שגיאה בשליחת הטופס. אנא נסה שוב.")}finally{q(!1)}};return(0,r.jsxs)("div",{className:"min-h-screen bg-black pt-16",children:[r.jsx("div",{className:"bg-gray-900 py-3 sm:py-4",children:r.jsx("div",{className:"container mx-auto px-4",children:(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-center space-y-2 sm:space-y-0",children:[r.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-white text-center sm:text-right",children:"סל קניות"}),r.jsx("button",{onClick:()=>e.push("/"),className:"text-purple-400 hover:text-purple-300 transition-colors text-sm sm:text-base",children:"← חזרה לדף הבית"})]})})}),r.jsx("div",{className:"container mx-auto px-3 py-4 sm:py-6",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6",children:[r.jsx("div",{className:"lg:col-span-2",children:(0,r.jsxs)("div",{className:"bg-gray-900 rounded-lg p-3 sm:p-4 mb-3 sm:mb-4",children:[r.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-white mb-3 sm:mb-4",children:"הפריטים שלך"}),0===t.length?(0,r.jsxs)("div",{className:"text-center py-12",children:[r.jsx("div",{className:"text-6xl mb-4",children:"\uD83D\uDED2"}),r.jsx("h3",{className:"text-xl text-gray-400 mb-4",children:"העגלה שלך ריקה"}),r.jsx("p",{className:"text-gray-500 mb-6",children:"הוסף פריטים כדי להתחיל"}),r.jsx("button",{onClick:()=>e.push("/"),className:"btn-primary",children:"לקניות"})]}):r.jsx("div",{className:"space-y-4",children:t.map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between bg-gray-800 rounded-lg p-3 sm:p-4",children:[r.jsx("div",{className:"flex-shrink-0 mr-3 sm:mr-4",children:r.jsx("img",{src:(0,n.BB)(e.images[0])||"https://images.unsplash.com/photo-1530103862676-de8c9debad1d?w=500",alt:e.name,className:"w-16 h-16 sm:w-20 sm:h-20 object-cover rounded-lg"})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0 mr-3 sm:mr-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-white truncate mb-1",children:e.name}),e.guestInfo&&r.jsx("p",{className:"text-purple-300 text-sm mb-1",children:e.guestInfo}),r.jsx("p",{className:"text-gray-400 text-sm mb-2",children:e.category}),(0,r.jsxs)("div",{className:"text-purple-400 font-bold text-lg",children:["₪",e.price]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-center space-x-2 rtl:space-x-reverse bg-gray-700 rounded-lg px-3 py-2 mr-3 sm:mr-4",children:[r.jsx("button",{onClick:()=>L(e.cartItemId||e.id,e.quantity-1),className:"w-8 h-8 rounded-full bg-gray-600 hover:bg-gray-500 flex items-center justify-center transition-all duration-200 hover:scale-105",title:"הפחת כמות",children:r.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),r.jsx("span",{className:"text-white font-bold text-lg min-w-[2.5rem] text-center bg-gray-800 rounded-lg px-2 py-1",children:e.quantity}),r.jsx("button",{onClick:()=>L(e.cartItemId||e.id,e.quantity+1),className:"w-8 h-8 rounded-full bg-gray-600 hover:bg-gray-500 flex items-center justify-center transition-all duration-200 hover:scale-105",title:"הוסף כמות",children:r.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})]}),r.jsx("div",{className:"text-right mr-3 sm:mr-4",children:(0,r.jsxs)("div",{className:"text-lg font-bold text-white",children:["₪",e.price*e.quantity]})}),r.jsx("button",{onClick:()=>M(e.cartItemId||e.id),className:"text-red-400 hover:text-red-300 transition-colors p-2 hover:bg-red-900/20 rounded-lg",title:"הסר פריט",children:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},e.cartItemId||e.id))}),t.length>0&&r.jsx("div",{className:"mt-6 pt-6 border-t border-gray-700",children:r.jsx("button",{onClick:A,className:"text-red-400 hover:text-red-300 transition-colors",children:"נקה את הסל"})})]})}),r.jsx("div",{className:"lg:col-span-1",children:(0,r.jsxs)("div",{className:"bg-gray-900 rounded-lg p-4 sticky top-24",children:[r.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"סיכום הזמנה"}),0===t.length?r.jsx("div",{className:"text-center py-8",children:r.jsx("p",{className:"text-gray-400",children:"אין פריטים בעגלה"})}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"space-y-3 mb-6",children:[(0,r.jsxs)("div",{className:"flex justify-between text-gray-300",children:[r.jsx("span",{children:"סך הפריטים:"}),r.jsx("span",{children:t.reduce((e,t)=>e+t.quantity,0)})]}),(0,r.jsxs)("div",{className:"flex justify-between text-gray-300",children:[r.jsx("span",{children:"מחיר כולל:"}),(0,r.jsxs)("span",{children:["₪",c]})]}),(0,r.jsxs)("div",{className:"flex justify-between text-gray-300",children:[r.jsx("span",{children:'מע"מ (18%):'}),(0,r.jsxs)("span",{children:["₪",Math.round(.18*c)]})]}),r.jsx("div",{className:"border-t border-gray-700 pt-3",children:(0,r.jsxs)("div",{className:"flex justify-between text-xl font-bold text-white",children:[r.jsx("span",{children:'סה"כ לתשלום:'}),(0,r.jsxs)("span",{children:["₪",Math.round(1.17*c)]})]})})]}),r.jsx("button",{onClick:()=>{if(0===t.length){alert("העגלה ריקה. אנא הוסף פריטים לפני בקשת הצעת מחיר.");return}_(!0)},className:"w-full btn-primary text-lg py-4",children:"קבל הצעת מחיר"}),(0,r.jsxs)("div",{className:"mt-6 text-sm text-gray-400",children:[r.jsx("p",{children:'• המחירים אינם כוללים מע"מ'}),r.jsx("p",{children:"• נציג יצור איתך קשר תוך 24 שעות"}),r.jsx("p",{children:"• המחירים כפופים לשינויים"})]})]})]})})]})}),C&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,r.jsxs)("div",{className:"bg-gray-900 rounded-lg p-8 text-center max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsx("h3",{className:"text-2xl font-bold text-white mb-6",children:"טופס בקשת הצעת מחיר"}),(0,r.jsxs)("form",{onSubmit:B,className:"space-y-4 text-right",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-gray-300 text-sm font-medium mb-2",children:"שם מלא *"}),r.jsx("input",{type:"text",required:!0,className:"w-full bg-gray-800 border border-gray-700 rounded px-3 py-2 text-white focus:border-purple-500 focus:outline-none",placeholder:"הכנס את שמך המלא",value:x,onChange:e=>m(e.target.value)})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-gray-300 text-sm font-medium mb-2",children:"טלפון *"}),r.jsx("input",{type:"tel",required:!0,className:"w-full bg-gray-800 border border-gray-700 rounded px-3 py-2 text-white focus:border-purple-500 focus:outline-none",placeholder:"הכנס את מספר הטלפון שלך",value:u,onChange:e=>h(e.target.value)})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-gray-300 text-sm font-medium mb-2",children:"אימייל"}),r.jsx("input",{type:"email",className:"w-full bg-gray-800 border border-gray-700 rounded px-3 py-2 text-white focus:border-purple-500 focus:outline-none",placeholder:"הכנס את האימייל שלך (אופציונלי)",value:p,onChange:e=>g(e.target.value)})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-gray-300 text-sm font-medium mb-2",children:"סוג האירוע"}),(0,r.jsxs)("select",{className:"w-full bg-gray-800 border border-gray-700 rounded px-3 py-2 text-white focus:border-purple-500 focus:outline-none",value:y,onChange:e=>w(e.target.value),children:[r.jsx("option",{value:"",children:"בחר סוג אירוע"}),r.jsx("option",{value:"חתונה",children:"חתונה"}),r.jsx("option",{value:"בר מצווה",children:"בר מצווה"}),r.jsx("option",{value:"ברית מילה",children:"ברית מילה"}),r.jsx("option",{value:"יום הולדת",children:"יום הולדת"}),r.jsx("option",{value:"אירוע עסקי",children:"אירוע עסקי"}),r.jsx("option",{value:"אחר",children:"אחר"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-gray-300 text-sm font-medium mb-2",children:"מספר אורחים"}),r.jsx("input",{type:"number",className:"w-full bg-gray-800 border border-gray-700 rounded px-3 py-2 text-white focus:border-purple-500 focus:outline-none",placeholder:"מספר אורחים",value:N,onChange:e=>k(e.target.value)})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-gray-300 text-sm font-medium mb-2",children:"תאריך האירוע"}),r.jsx("input",{type:"date",className:"w-full bg-gray-800 border border-gray-700 rounded px-3 py-2 text-white focus:border-purple-500 focus:outline-none",value:v,onChange:e=>f(e.target.value)})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-gray-300 text-sm font-medium mb-2",children:"הערות נוספות"}),r.jsx("textarea",{className:"w-full bg-gray-800 border border-gray-700 rounded px-3 py-2 text-white focus:border-purple-500 focus:outline-none",rows:3,placeholder:"הערות נוספות, דרישות מיוחדות או שאלות...",value:b,onChange:e=>j(e.target.value)})]}),(0,r.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4 text-right",children:[r.jsx("h4",{className:"text-lg font-semibold text-white mb-3",children:"סיכום העגלה:"}),(0,r.jsxs)("div",{className:"space-y-2 text-sm text-gray-300",children:[t.map(e=>(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsxs)("span",{children:[e.name," ",e.guestInfo&&`(${e.guestInfo})`," x",e.quantity]}),(0,r.jsxs)("span",{children:["₪",e.price*e.quantity]})]},e.cartItemId||e.id)),r.jsx("div",{className:"border-t border-gray-600 pt-2 mt-2",children:(0,r.jsxs)("div",{className:"flex justify-between font-semibold text-white",children:[r.jsx("span",{children:'סה"כ:'}),(0,r.jsxs)("span",{children:["₪",Math.round(1.17*c)]})]})})]})]}),(0,r.jsxs)("div",{className:"flex space-x-4 rtl:space-x-reverse pt-4",children:[r.jsx("button",{type:"button",onClick:()=>_(!1),className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white font-bold py-3 px-4 rounded transition-colors",children:"ביטול"}),r.jsx("button",{type:"submit",disabled:S,className:"flex-1 btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:S?(0,r.jsxs)("div",{className:"flex items-center justify-center",children:[(0,r.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"שולח..."]}):"שלח בקשת הצעת מחיר"})]})]})]})}),I&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,r.jsxs)("div",{className:"bg-gray-900 rounded-lg p-8 text-center max-w-md mx-4",children:[r.jsx("div",{className:"text-6xl mb-4",children:"✅"}),r.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"הבקשה נשלחה בהצלחה!"}),r.jsx("p",{className:"text-gray-300 mb-6",children:"נציג שלנו יצור איתך קשר תוך 24 שעות עם הצעת מחיר מפורטת"}),r.jsx("div",{className:"text-sm text-gray-400 mb-4",children:r.jsx("p",{children:"תודה על הבחירה ב-OR Productions!"})}),r.jsx("div",{className:"text-sm text-purple-400 font-medium",children:r.jsx("p",{children:"למענה מיידי יש להתקשר ל: 052-320-6571"})})]})}),r.jsx(o.Z,{}),r.jsx("a",{href:"https://wa.me/972544299492",target:"_blank",rel:"noopener noreferrer",onClick:()=>{},className:"fixed bottom-6 right-6 z-50 bg-green-500 hover:bg-green-600 text-white p-3 rounded-full shadow-lg transition-all duration-300 transform hover:scale-110",title:"צור קשר ב-WhatsApp",children:r.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.885 3.488"})})})]})}},33004:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var r=s(10326),a=s(17577);let l=(e=2e3)=>{let[t,s]=(0,a.useState)(!1),r=(0,a.useRef)(null),l=(0,a.useCallback)(async t=>{try{return await navigator.clipboard.writeText(t),s(!0),r.current&&clearTimeout(r.current),r.current=setTimeout(()=>s(!1),e),!0}catch(e){return console.error("copy to clipboard failed",e),!1}},[e]);return(0,a.useEffect)(()=>()=>{r.current&&clearTimeout(r.current)},[]),{copy:l,copied:t}},n=({pageName:e="unknown"})=>{let{copy:t,copied:s}=l(2e3),n=(0,a.useCallback)(async()=>{await t(window.location.href)},[t,e]);return r.jsx("button",{onClick:n,className:"fixed bottom-6 left-6 z-50 bg-purple-600 hover:bg-purple-700 text-white p-3 rounded-full shadow-lg transition-all duration-300 transform hover:scale-110",title:"העתק קישור לעמוד זה",children:s?r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 002 2v8a2 2 0 002 2z"})})})}},61973:(e,t,s)=>{"use strict";s.d(t,{B1:()=>d,I:()=>n,Kc:()=>a,Ng:()=>o,lQ:()=>l,rE:()=>c,xD:()=>i});let r=()=>!1,a=(e,t="ILS")=>{r()&&window.fbq("track","AddToCart",{value:e,currency:t})},l=()=>{r()&&window.fbq("track","Contact")},n=(e,t={})=>{r()&&window.fbq("track","CustomEvent",{event_name:e,...t})},i=(e,t)=>{r()&&window.fbq("track","CustomEvent",{event_name:"PageNavigation",from_page:e,to_page:t})},o=(e,t,s="internal")=>{r()&&window.fbq("track","CustomEvent",{event_name:"LinkClick",link_text:e,link_url:t,link_type:s})},c=(e,t,s="hero")=>{r()&&window.fbq("track","CustomEvent",{event_name:"VideoView",video_name:e,video_duration:t,video_type:s})},d=(e,t,s="website")=>{r()&&window.fbq("track","Lead",{content_name:e,value:t,currency:"ILS",content_category:s})}},24133:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(68570).createProxy)(String.raw`C:\assaf\FullStack\projects\orProductions\app\cart\page.js#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[948,398,941],()=>s(64936));module.exports=r})();